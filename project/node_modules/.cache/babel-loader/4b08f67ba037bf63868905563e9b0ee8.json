{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Array$isArray2 = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\n\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\n\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\n\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\n\nvar _sliceInstanceProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _isInteger = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/number/is-integer\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _slice = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\"));\n\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n\n  if (!it) {\n    if (_Array$isArray2(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context6;\n\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\n  var n = _sliceInstanceProperty2(_context6 = Object.prototype.toString.call(o)).call(_context6, 8, -1);\n\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar equalObjects = require('./equals').default;\n\nvar decode = require('./decode').default;\n\nvar ParseError = require('./ParseError').default;\n\nvar ParsePolygon = require('./ParsePolygon').default;\n\nvar ParseGeoPoint = require('./ParseGeoPoint').default;\n/**\r\n * contains -- Determines if an object is contained in a list with special handling for Parse pointers.\r\n *\r\n * @param haystack\r\n * @param needle\r\n * @private\r\n * @returns {boolean}\r\n */\n\n\nfunction contains(haystack, needle) {\n  if (needle && needle.__type && (needle.__type === 'Pointer' || needle.__type === 'Object')) {\n    for (var i in haystack) {\n      var ptr = haystack[i];\n\n      if (typeof ptr === 'string' && ptr === needle.objectId) {\n        return true;\n      }\n\n      if (ptr.className === needle.className && ptr.objectId === needle.objectId) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  return (0, _indexOf.default)(haystack).call(haystack, needle) > -1;\n}\n\nfunction transformObject(object) {\n  if (object._toFullJSON) {\n    return object._toFullJSON();\n  }\n\n  return object;\n}\n/**\r\n * matchesQuery -- Determines if an object would be returned by a Parse Query\r\n * It's a lightweight, where-clause only implementation of a full query engine.\r\n * Since we find queries that match objects, rather than objects that match\r\n * queries, we can avoid building a full-blown query tool.\r\n *\r\n * @param className\r\n * @param object\r\n * @param objects\r\n * @param query\r\n * @private\r\n * @returns {boolean}\r\n */\n\n\nfunction matchesQuery(className, object, objects, query) {\n  if (object.className !== className) {\n    return false;\n  }\n\n  var obj = object;\n  var q = query;\n\n  if (object.toJSON) {\n    obj = object.toJSON();\n  }\n\n  if (query.toJSON) {\n    q = query.toJSON().where;\n  }\n\n  obj.className = className;\n\n  for (var field in q) {\n    if (!matchesKeyConstraints(className, obj, objects, field, q[field])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction equalObjectsGeneric(obj, compareTo, eqlFn) {\n  if ((0, _isArray.default)(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      if (eqlFn(obj[i], compareTo)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  return eqlFn(obj, compareTo);\n}\n/**\r\n * @typedef RelativeTimeToDateResult\r\n * @property {string} status The conversion status, `error` if conversion failed or\r\n * `success` if conversion succeeded.\r\n * @property {string} info The error message if conversion failed, or the relative\r\n * time indication (`past`, `present`, `future`) if conversion succeeded.\r\n * @property {Date|undefined} result The converted date, or `undefined` if conversion\r\n * failed.\r\n */\n\n/**\r\n * Converts human readable relative date string, for example, 'in 10 days' to a date\r\n * relative to now.\r\n *\r\n * @param {string} text The text to convert.\r\n * @param {Date} [now=new Date()] The date from which add or subtract. Default is now.\r\n * @returns {RelativeTimeToDateResult}\r\n */\n\n\nfunction relativeTimeToDate(text) {\n  var now = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Date();\n  text = text.toLowerCase();\n  var parts = text.split(' '); // Filter out whitespace\n\n  parts = (0, _filter.default)(parts).call(parts, function (part) {\n    return part !== '';\n  });\n  var future = parts[0] === 'in';\n  var past = parts[parts.length - 1] === 'ago';\n\n  if (!future && !past && text !== 'now') {\n    return {\n      status: 'error',\n      info: \"Time should either start with 'in' or end with 'ago'\"\n    };\n  }\n\n  if (future && past) {\n    return {\n      status: 'error',\n      info: \"Time cannot have both 'in' and 'ago'\"\n    };\n  } // strip the 'ago' or 'in'\n\n\n  if (future) {\n    parts = (0, _slice.default)(parts).call(parts, 1);\n  } else {\n    // past\n    parts = (0, _slice.default)(parts).call(parts, 0, parts.length - 1);\n  }\n\n  if (parts.length % 2 !== 0 && text !== 'now') {\n    return {\n      status: 'error',\n      info: 'Invalid time string. Dangling unit or number.'\n    };\n  }\n\n  var pairs = [];\n\n  while (parts.length) {\n    pairs.push([parts.shift(), parts.shift()]);\n  }\n\n  var seconds = 0;\n\n  for (var _i = 0, _pairs = pairs; _i < _pairs.length; _i++) {\n    var _pairs$_i = (0, _slicedToArray2.default)(_pairs[_i], 2),\n        num = _pairs$_i[0],\n        interval = _pairs$_i[1];\n\n    var val = Number(num);\n\n    if (!(0, _isInteger.default)(val)) {\n      return {\n        status: 'error',\n        info: \"'\".concat(num, \"' is not an integer.\")\n      };\n    }\n\n    switch (interval) {\n      case 'yr':\n      case 'yrs':\n      case 'year':\n      case 'years':\n        seconds += val * 31536000; // 365 * 24 * 60 * 60\n\n        break;\n\n      case 'wk':\n      case 'wks':\n      case 'week':\n      case 'weeks':\n        seconds += val * 604800; // 7 * 24 * 60 * 60\n\n        break;\n\n      case 'd':\n      case 'day':\n      case 'days':\n        seconds += val * 86400; // 24 * 60 * 60\n\n        break;\n\n      case 'hr':\n      case 'hrs':\n      case 'hour':\n      case 'hours':\n        seconds += val * 3600; // 60 * 60\n\n        break;\n\n      case 'min':\n      case 'mins':\n      case 'minute':\n      case 'minutes':\n        seconds += val * 60;\n        break;\n\n      case 'sec':\n      case 'secs':\n      case 'second':\n      case 'seconds':\n        seconds += val;\n        break;\n\n      default:\n        return {\n          status: 'error',\n          info: \"Invalid interval: '\".concat(interval, \"'\")\n        };\n    }\n  }\n\n  var milliseconds = seconds * 1000;\n\n  if (future) {\n    return {\n      status: 'success',\n      info: 'future',\n      result: new Date(now.valueOf() + milliseconds)\n    };\n  } else if (past) {\n    return {\n      status: 'success',\n      info: 'past',\n      result: new Date(now.valueOf() - milliseconds)\n    };\n  } else {\n    return {\n      status: 'success',\n      info: 'present',\n      result: new Date(now.valueOf())\n    };\n  }\n}\n/**\r\n * Determines whether an object matches a single key's constraints\r\n *\r\n * @param className\r\n * @param object\r\n * @param objects\r\n * @param key\r\n * @param constraints\r\n * @private\r\n * @returns {boolean}\r\n */\n\n\nfunction matchesKeyConstraints(className, object, objects, key, constraints) {\n  if (constraints === null) {\n    return false;\n  }\n\n  if ((0, _indexOf.default)(key).call(key, '.') >= 0) {\n    // Key references a subobject\n    var keyComponents = key.split('.');\n    var subObjectKey = keyComponents[0];\n    var keyRemainder = (0, _slice.default)(keyComponents).call(keyComponents, 1).join('.');\n    return matchesKeyConstraints(className, object[subObjectKey] || {}, objects, keyRemainder, constraints);\n  }\n\n  var i;\n\n  if (key === '$or') {\n    for (i = 0; i < constraints.length; i++) {\n      if (matchesQuery(className, object, objects, constraints[i])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  if (key === '$and') {\n    for (i = 0; i < constraints.length; i++) {\n      if (!matchesQuery(className, object, objects, constraints[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  if (key === '$nor') {\n    for (i = 0; i < constraints.length; i++) {\n      if (matchesQuery(className, object, objects, constraints[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  if (key === '$relatedTo') {\n    // Bail! We can't handle relational queries locally\n    return false;\n  }\n\n  if (!/^[A-Za-z][0-9A-Za-z_]*$/.test(key)) {\n    throw new ParseError(ParseError.INVALID_KEY_NAME, \"Invalid Key: \".concat(key));\n  } // Equality (or Array contains) cases\n\n\n  if ((0, _typeof2.default)(constraints) !== 'object') {\n    if ((0, _isArray.default)(object[key])) {\n      var _context;\n\n      return (0, _indexOf.default)(_context = object[key]).call(_context, constraints) > -1;\n    }\n\n    return object[key] === constraints;\n  }\n\n  var compareTo;\n\n  if (constraints.__type) {\n    if (constraints.__type === 'Pointer') {\n      return equalObjectsGeneric(object[key], constraints, function (obj, ptr) {\n        return typeof obj !== 'undefined' && ptr.className === obj.className && ptr.objectId === obj.objectId;\n      });\n    }\n\n    return equalObjectsGeneric(decode(object[key]), decode(constraints), equalObjects);\n  } // More complex cases\n\n\n  for (var condition in constraints) {\n    compareTo = constraints[condition];\n\n    if (compareTo.__type) {\n      compareTo = decode(compareTo);\n    } // is it a $relativeTime? convert to date\n\n\n    if (compareTo['$relativeTime']) {\n      var parserResult = relativeTimeToDate(compareTo['$relativeTime']);\n\n      if (parserResult.status !== 'success') {\n        var _context2;\n\n        throw new ParseError(ParseError.INVALID_JSON, (0, _concat.default)(_context2 = \"bad $relativeTime (\".concat(key, \") value. \")).call(_context2, parserResult.info));\n      }\n\n      compareTo = parserResult.result;\n    } // Compare Date Object or Date String\n\n\n    if (toString.call(compareTo) === '[object Date]' || typeof compareTo === 'string' && new Date(compareTo) !== 'Invalid Date' && !isNaN(new Date(compareTo))) {\n      object[key] = new Date(object[key].iso ? object[key].iso : object[key]);\n    }\n\n    switch (condition) {\n      case '$lt':\n        if (object[key] >= compareTo) {\n          return false;\n        }\n\n        break;\n\n      case '$lte':\n        if (object[key] > compareTo) {\n          return false;\n        }\n\n        break;\n\n      case '$gt':\n        if (object[key] <= compareTo) {\n          return false;\n        }\n\n        break;\n\n      case '$gte':\n        if (object[key] < compareTo) {\n          return false;\n        }\n\n        break;\n\n      case '$ne':\n        if (equalObjects(object[key], compareTo)) {\n          return false;\n        }\n\n        break;\n\n      case '$in':\n        if (!contains(compareTo, object[key])) {\n          return false;\n        }\n\n        break;\n\n      case '$nin':\n        if (contains(compareTo, object[key])) {\n          return false;\n        }\n\n        break;\n\n      case '$all':\n        for (i = 0; i < compareTo.length; i++) {\n          var _context3;\n\n          if ((0, _indexOf.default)(_context3 = object[key]).call(_context3, compareTo[i]) < 0) {\n            return false;\n          }\n        }\n\n        break;\n\n      case '$exists':\n        {\n          var propertyExists = typeof object[key] !== 'undefined';\n          var existenceIsRequired = constraints['$exists'];\n\n          if (typeof constraints['$exists'] !== 'boolean') {\n            // The SDK will never submit a non-boolean for $exists, but if someone\n            // tries to submit a non-boolean for $exits outside the SDKs, just ignore it.\n            break;\n          }\n\n          if (!propertyExists && existenceIsRequired || propertyExists && !existenceIsRequired) {\n            return false;\n          }\n\n          break;\n        }\n\n      case '$regex':\n        {\n          if ((0, _typeof2.default)(compareTo) === 'object') {\n            return compareTo.test(object[key]);\n          } // JS doesn't support perl-style escaping\n\n\n          var expString = '';\n          var escapeEnd = -2;\n          var escapeStart = (0, _indexOf.default)(compareTo).call(compareTo, '\\\\Q');\n\n          while (escapeStart > -1) {\n            // Add the unescaped portion\n            expString += compareTo.substring(escapeEnd + 2, escapeStart);\n            escapeEnd = (0, _indexOf.default)(compareTo).call(compareTo, '\\\\E', escapeStart);\n\n            if (escapeEnd > -1) {\n              expString += compareTo.substring(escapeStart + 2, escapeEnd).replace(/\\\\\\\\\\\\\\\\E/g, '\\\\E').replace(/\\W/g, '\\\\$&');\n            }\n\n            escapeStart = (0, _indexOf.default)(compareTo).call(compareTo, '\\\\Q', escapeEnd);\n          }\n\n          expString += compareTo.substring(Math.max(escapeStart, escapeEnd + 2));\n          var modifiers = constraints.$options || '';\n          modifiers = modifiers.replace('x', '').replace('s', ''); // Parse Server / Mongo support x and s modifiers but JS RegExp doesn't\n\n          var exp = new RegExp(expString, modifiers);\n\n          if (!exp.test(object[key])) {\n            return false;\n          }\n\n          break;\n        }\n\n      case '$nearSphere':\n        {\n          if (!compareTo || !object[key]) {\n            return false;\n          }\n\n          var distance = compareTo.radiansTo(object[key]);\n          var max = constraints.$maxDistance || Infinity;\n          return distance <= max;\n        }\n\n      case '$within':\n        {\n          if (!compareTo || !object[key]) {\n            return false;\n          }\n\n          var southWest = compareTo.$box[0];\n          var northEast = compareTo.$box[1];\n\n          if (southWest.latitude > northEast.latitude || southWest.longitude > northEast.longitude) {\n            // Invalid box, crosses the date line\n            return false;\n          }\n\n          return object[key].latitude > southWest.latitude && object[key].latitude < northEast.latitude && object[key].longitude > southWest.longitude && object[key].longitude < northEast.longitude;\n        }\n\n      case '$options':\n        // Not a query type, but a way to add options to $regex. Ignore and\n        // avoid the default\n        break;\n\n      case '$maxDistance':\n        // Not a query type, but a way to add a cap to $nearSphere. Ignore and\n        // avoid the default\n        break;\n\n      case '$select':\n        {\n          var subQueryObjects = (0, _filter.default)(objects).call(objects, function (obj, index, arr) {\n            return matchesQuery(compareTo.query.className, obj, arr, compareTo.query.where);\n          });\n\n          for (var _i2 = 0; _i2 < subQueryObjects.length; _i2 += 1) {\n            var subObject = transformObject(subQueryObjects[_i2]);\n            return equalObjects(object[key], subObject[compareTo.key]);\n          }\n\n          return false;\n        }\n\n      case '$dontSelect':\n        {\n          var _subQueryObjects = (0, _filter.default)(objects).call(objects, function (obj, index, arr) {\n            return matchesQuery(compareTo.query.className, obj, arr, compareTo.query.where);\n          });\n\n          for (var _i3 = 0; _i3 < _subQueryObjects.length; _i3 += 1) {\n            var _subObject = transformObject(_subQueryObjects[_i3]);\n\n            return !equalObjects(object[key], _subObject[compareTo.key]);\n          }\n\n          return false;\n        }\n\n      case '$inQuery':\n        {\n          var _subQueryObjects2 = (0, _filter.default)(objects).call(objects, function (obj, index, arr) {\n            return matchesQuery(compareTo.className, obj, arr, compareTo.where);\n          });\n\n          for (var _i4 = 0; _i4 < _subQueryObjects2.length; _i4 += 1) {\n            var _subObject2 = transformObject(_subQueryObjects2[_i4]);\n\n            if (object[key].className === _subObject2.className && object[key].objectId === _subObject2.objectId) {\n              return true;\n            }\n          }\n\n          return false;\n        }\n\n      case '$notInQuery':\n        {\n          var _subQueryObjects3 = (0, _filter.default)(objects).call(objects, function (obj, index, arr) {\n            return matchesQuery(compareTo.className, obj, arr, compareTo.where);\n          });\n\n          for (var _i5 = 0; _i5 < _subQueryObjects3.length; _i5 += 1) {\n            var _subObject3 = transformObject(_subQueryObjects3[_i5]);\n\n            if (object[key].className === _subObject3.className && object[key].objectId === _subObject3.objectId) {\n              return false;\n            }\n          }\n\n          return true;\n        }\n\n      case '$containedBy':\n        {\n          var _iterator = _createForOfIteratorHelper(object[key]),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var value = _step.value;\n\n              if (!contains(compareTo, value)) {\n                return false;\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n\n          return true;\n        }\n\n      case '$geoWithin':\n        {\n          var _context4;\n\n          var points = (0, _map.default)(_context4 = compareTo.$polygon).call(_context4, function (geoPoint) {\n            return [geoPoint.latitude, geoPoint.longitude];\n          });\n          var polygon = new ParsePolygon(points);\n          return polygon.containsPoint(object[key]);\n        }\n\n      case '$geoIntersects':\n        {\n          var _polygon = new ParsePolygon(object[key].coordinates);\n\n          var point = new ParseGeoPoint(compareTo.$point);\n          return _polygon.containsPoint(point);\n        }\n\n      default:\n        return false;\n    }\n  }\n\n  return true;\n}\n\nfunction validateQuery(query\n/*: any*/\n) {\n  var _context5;\n\n  var q = query;\n\n  if (query.toJSON) {\n    q = query.toJSON().where;\n  }\n\n  var specialQuerykeys = ['$and', '$or', '$nor', '_rperm', '_wperm', '_perishable_token', '_email_verify_token', '_email_verify_token_expires_at', '_account_lockout_expires_at', '_failed_login_count'];\n  (0, _forEach.default)(_context5 = (0, _keys.default)(q)).call(_context5, function (key) {\n    if (q && q[key] && q[key].$regex) {\n      if (typeof q[key].$options === 'string') {\n        if (!q[key].$options.match(/^[imxs]+$/)) {\n          throw new ParseError(ParseError.INVALID_QUERY, \"Bad $options value for query: \".concat(q[key].$options));\n        }\n      }\n    }\n\n    if ((0, _indexOf.default)(specialQuerykeys).call(specialQuerykeys, key) < 0 && !key.match(/^[a-zA-Z][a-zA-Z0-9_\\.]*$/)) {\n      throw new ParseError(ParseError.INVALID_KEY_NAME, \"Invalid key name: \".concat(key));\n    }\n  });\n}\n\nvar OfflineQuery = {\n  matchesQuery: matchesQuery,\n  validateQuery: validateQuery\n};\nmodule.exports = OfflineQuery;","map":{"version":3,"names":["_interopRequireDefault","require","_Array$isArray2","_getIteratorMethod","_Symbol","_Array$from","_sliceInstanceProperty2","_keys","_forEach","_map","_concat","_typeof2","_isInteger","_slicedToArray2","_slice","_filter","_isArray","_indexOf","_createForOfIteratorHelper","o","allowArrayLike","it","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","return","minLen","_context6","_arrayLikeToArray","Object","prototype","toString","constructor","name","test","arr","len","arr2","Array","equalObjects","default","decode","ParseError","ParsePolygon","ParseGeoPoint","contains","haystack","needle","__type","ptr","objectId","className","transformObject","object","_toFullJSON","matchesQuery","objects","query","obj","q","toJSON","where","field","matchesKeyConstraints","equalObjectsGeneric","compareTo","eqlFn","relativeTimeToDate","text","now","arguments","undefined","Date","toLowerCase","parts","split","part","future","past","status","info","pairs","push","shift","seconds","_i","_pairs","_pairs$_i","num","interval","val","Number","concat","milliseconds","result","valueOf","key","constraints","keyComponents","subObjectKey","keyRemainder","join","INVALID_KEY_NAME","_context","condition","parserResult","_context2","INVALID_JSON","isNaN","iso","_context3","propertyExists","existenceIsRequired","expString","escapeEnd","escapeStart","substring","replace","Math","max","modifiers","$options","exp","RegExp","distance","radiansTo","$maxDistance","Infinity","southWest","$box","northEast","latitude","longitude","subQueryObjects","index","_i2","subObject","_subQueryObjects","_i3","_subObject","_subQueryObjects2","_i4","_subObject2","_subQueryObjects3","_i5","_subObject3","_iterator","_step","_context4","points","$polygon","geoPoint","polygon","containsPoint","_polygon","coordinates","point","$point","validateQuery","_context5","specialQuerykeys","$regex","match","INVALID_QUERY","OfflineQuery","module","exports"],"sources":["C:/Users/brosk/Documents/Web Dev/modern-web-development-project/project/node_modules/parse/lib/browser/OfflineQuery.js"],"sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\r\n\r\nvar _Array$isArray2 = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\r\n\r\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\r\n\r\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\r\n\r\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\r\n\r\nvar _sliceInstanceProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\r\n\r\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\r\n\r\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\r\n\r\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\r\n\r\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\r\n\r\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\r\n\r\nvar _isInteger = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/number/is-integer\"));\r\n\r\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\r\n\r\nvar _slice = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\"));\r\n\r\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\r\n\r\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\r\n\r\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\r\n\r\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\r\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\r\n\r\n  if (!it) {\r\n    if (_Array$isArray2(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\r\n      if (it) o = it;\r\n      var i = 0;\r\n\r\n      var F = function () {};\r\n\r\n      return {\r\n        s: F,\r\n        n: function () {\r\n          if (i >= o.length) return {\r\n            done: true\r\n          };\r\n          return {\r\n            done: false,\r\n            value: o[i++]\r\n          };\r\n        },\r\n        e: function (_e) {\r\n          throw _e;\r\n        },\r\n        f: F\r\n      };\r\n    }\r\n\r\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n  }\r\n\r\n  var normalCompletion = true,\r\n      didErr = false,\r\n      err;\r\n  return {\r\n    s: function () {\r\n      it = it.call(o);\r\n    },\r\n    n: function () {\r\n      var step = it.next();\r\n      normalCompletion = step.done;\r\n      return step;\r\n    },\r\n    e: function (_e2) {\r\n      didErr = true;\r\n      err = _e2;\r\n    },\r\n    f: function () {\r\n      try {\r\n        if (!normalCompletion && it.return != null) it.return();\r\n      } finally {\r\n        if (didErr) throw err;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) {\r\n  var _context6;\r\n\r\n  if (!o) return;\r\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\r\n\r\n  var n = _sliceInstanceProperty2(_context6 = Object.prototype.toString.call(o)).call(_context6, 8, -1);\r\n\r\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\r\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\r\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\r\n}\r\n\r\nfunction _arrayLikeToArray(arr, len) {\r\n  if (len == null || len > arr.length) len = arr.length;\r\n\r\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n  }\r\n\r\n  return arr2;\r\n}\r\n\r\nvar equalObjects = require('./equals').default;\r\n\r\nvar decode = require('./decode').default;\r\n\r\nvar ParseError = require('./ParseError').default;\r\n\r\nvar ParsePolygon = require('./ParsePolygon').default;\r\n\r\nvar ParseGeoPoint = require('./ParseGeoPoint').default;\r\n/**\r\n * contains -- Determines if an object is contained in a list with special handling for Parse pointers.\r\n *\r\n * @param haystack\r\n * @param needle\r\n * @private\r\n * @returns {boolean}\r\n */\r\n\r\n\r\nfunction contains(haystack, needle) {\r\n  if (needle && needle.__type && (needle.__type === 'Pointer' || needle.__type === 'Object')) {\r\n    for (var i in haystack) {\r\n      var ptr = haystack[i];\r\n\r\n      if (typeof ptr === 'string' && ptr === needle.objectId) {\r\n        return true;\r\n      }\r\n\r\n      if (ptr.className === needle.className && ptr.objectId === needle.objectId) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  return (0, _indexOf.default)(haystack).call(haystack, needle) > -1;\r\n}\r\n\r\nfunction transformObject(object) {\r\n  if (object._toFullJSON) {\r\n    return object._toFullJSON();\r\n  }\r\n\r\n  return object;\r\n}\r\n/**\r\n * matchesQuery -- Determines if an object would be returned by a Parse Query\r\n * It's a lightweight, where-clause only implementation of a full query engine.\r\n * Since we find queries that match objects, rather than objects that match\r\n * queries, we can avoid building a full-blown query tool.\r\n *\r\n * @param className\r\n * @param object\r\n * @param objects\r\n * @param query\r\n * @private\r\n * @returns {boolean}\r\n */\r\n\r\n\r\nfunction matchesQuery(className, object, objects, query) {\r\n  if (object.className !== className) {\r\n    return false;\r\n  }\r\n\r\n  var obj = object;\r\n  var q = query;\r\n\r\n  if (object.toJSON) {\r\n    obj = object.toJSON();\r\n  }\r\n\r\n  if (query.toJSON) {\r\n    q = query.toJSON().where;\r\n  }\r\n\r\n  obj.className = className;\r\n\r\n  for (var field in q) {\r\n    if (!matchesKeyConstraints(className, obj, objects, field, q[field])) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction equalObjectsGeneric(obj, compareTo, eqlFn) {\r\n  if ((0, _isArray.default)(obj)) {\r\n    for (var i = 0; i < obj.length; i++) {\r\n      if (eqlFn(obj[i], compareTo)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  return eqlFn(obj, compareTo);\r\n}\r\n/**\r\n * @typedef RelativeTimeToDateResult\r\n * @property {string} status The conversion status, `error` if conversion failed or\r\n * `success` if conversion succeeded.\r\n * @property {string} info The error message if conversion failed, or the relative\r\n * time indication (`past`, `present`, `future`) if conversion succeeded.\r\n * @property {Date|undefined} result The converted date, or `undefined` if conversion\r\n * failed.\r\n */\r\n\r\n/**\r\n * Converts human readable relative date string, for example, 'in 10 days' to a date\r\n * relative to now.\r\n *\r\n * @param {string} text The text to convert.\r\n * @param {Date} [now=new Date()] The date from which add or subtract. Default is now.\r\n * @returns {RelativeTimeToDateResult}\r\n */\r\n\r\n\r\nfunction relativeTimeToDate(text) {\r\n  var now = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Date();\r\n  text = text.toLowerCase();\r\n  var parts = text.split(' '); // Filter out whitespace\r\n\r\n  parts = (0, _filter.default)(parts).call(parts, function (part) {\r\n    return part !== '';\r\n  });\r\n  var future = parts[0] === 'in';\r\n  var past = parts[parts.length - 1] === 'ago';\r\n\r\n  if (!future && !past && text !== 'now') {\r\n    return {\r\n      status: 'error',\r\n      info: \"Time should either start with 'in' or end with 'ago'\"\r\n    };\r\n  }\r\n\r\n  if (future && past) {\r\n    return {\r\n      status: 'error',\r\n      info: \"Time cannot have both 'in' and 'ago'\"\r\n    };\r\n  } // strip the 'ago' or 'in'\r\n\r\n\r\n  if (future) {\r\n    parts = (0, _slice.default)(parts).call(parts, 1);\r\n  } else {\r\n    // past\r\n    parts = (0, _slice.default)(parts).call(parts, 0, parts.length - 1);\r\n  }\r\n\r\n  if (parts.length % 2 !== 0 && text !== 'now') {\r\n    return {\r\n      status: 'error',\r\n      info: 'Invalid time string. Dangling unit or number.'\r\n    };\r\n  }\r\n\r\n  var pairs = [];\r\n\r\n  while (parts.length) {\r\n    pairs.push([parts.shift(), parts.shift()]);\r\n  }\r\n\r\n  var seconds = 0;\r\n\r\n  for (var _i = 0, _pairs = pairs; _i < _pairs.length; _i++) {\r\n    var _pairs$_i = (0, _slicedToArray2.default)(_pairs[_i], 2),\r\n        num = _pairs$_i[0],\r\n        interval = _pairs$_i[1];\r\n\r\n    var val = Number(num);\r\n\r\n    if (!(0, _isInteger.default)(val)) {\r\n      return {\r\n        status: 'error',\r\n        info: \"'\".concat(num, \"' is not an integer.\")\r\n      };\r\n    }\r\n\r\n    switch (interval) {\r\n      case 'yr':\r\n      case 'yrs':\r\n      case 'year':\r\n      case 'years':\r\n        seconds += val * 31536000; // 365 * 24 * 60 * 60\r\n\r\n        break;\r\n\r\n      case 'wk':\r\n      case 'wks':\r\n      case 'week':\r\n      case 'weeks':\r\n        seconds += val * 604800; // 7 * 24 * 60 * 60\r\n\r\n        break;\r\n\r\n      case 'd':\r\n      case 'day':\r\n      case 'days':\r\n        seconds += val * 86400; // 24 * 60 * 60\r\n\r\n        break;\r\n\r\n      case 'hr':\r\n      case 'hrs':\r\n      case 'hour':\r\n      case 'hours':\r\n        seconds += val * 3600; // 60 * 60\r\n\r\n        break;\r\n\r\n      case 'min':\r\n      case 'mins':\r\n      case 'minute':\r\n      case 'minutes':\r\n        seconds += val * 60;\r\n        break;\r\n\r\n      case 'sec':\r\n      case 'secs':\r\n      case 'second':\r\n      case 'seconds':\r\n        seconds += val;\r\n        break;\r\n\r\n      default:\r\n        return {\r\n          status: 'error',\r\n          info: \"Invalid interval: '\".concat(interval, \"'\")\r\n        };\r\n    }\r\n  }\r\n\r\n  var milliseconds = seconds * 1000;\r\n\r\n  if (future) {\r\n    return {\r\n      status: 'success',\r\n      info: 'future',\r\n      result: new Date(now.valueOf() + milliseconds)\r\n    };\r\n  } else if (past) {\r\n    return {\r\n      status: 'success',\r\n      info: 'past',\r\n      result: new Date(now.valueOf() - milliseconds)\r\n    };\r\n  } else {\r\n    return {\r\n      status: 'success',\r\n      info: 'present',\r\n      result: new Date(now.valueOf())\r\n    };\r\n  }\r\n}\r\n/**\r\n * Determines whether an object matches a single key's constraints\r\n *\r\n * @param className\r\n * @param object\r\n * @param objects\r\n * @param key\r\n * @param constraints\r\n * @private\r\n * @returns {boolean}\r\n */\r\n\r\n\r\nfunction matchesKeyConstraints(className, object, objects, key, constraints) {\r\n  if (constraints === null) {\r\n    return false;\r\n  }\r\n\r\n  if ((0, _indexOf.default)(key).call(key, '.') >= 0) {\r\n    // Key references a subobject\r\n    var keyComponents = key.split('.');\r\n    var subObjectKey = keyComponents[0];\r\n    var keyRemainder = (0, _slice.default)(keyComponents).call(keyComponents, 1).join('.');\r\n    return matchesKeyConstraints(className, object[subObjectKey] || {}, objects, keyRemainder, constraints);\r\n  }\r\n\r\n  var i;\r\n\r\n  if (key === '$or') {\r\n    for (i = 0; i < constraints.length; i++) {\r\n      if (matchesQuery(className, object, objects, constraints[i])) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  if (key === '$and') {\r\n    for (i = 0; i < constraints.length; i++) {\r\n      if (!matchesQuery(className, object, objects, constraints[i])) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  if (key === '$nor') {\r\n    for (i = 0; i < constraints.length; i++) {\r\n      if (matchesQuery(className, object, objects, constraints[i])) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  if (key === '$relatedTo') {\r\n    // Bail! We can't handle relational queries locally\r\n    return false;\r\n  }\r\n\r\n  if (!/^[A-Za-z][0-9A-Za-z_]*$/.test(key)) {\r\n    throw new ParseError(ParseError.INVALID_KEY_NAME, \"Invalid Key: \".concat(key));\r\n  } // Equality (or Array contains) cases\r\n\r\n\r\n  if ((0, _typeof2.default)(constraints) !== 'object') {\r\n    if ((0, _isArray.default)(object[key])) {\r\n      var _context;\r\n\r\n      return (0, _indexOf.default)(_context = object[key]).call(_context, constraints) > -1;\r\n    }\r\n\r\n    return object[key] === constraints;\r\n  }\r\n\r\n  var compareTo;\r\n\r\n  if (constraints.__type) {\r\n    if (constraints.__type === 'Pointer') {\r\n      return equalObjectsGeneric(object[key], constraints, function (obj, ptr) {\r\n        return typeof obj !== 'undefined' && ptr.className === obj.className && ptr.objectId === obj.objectId;\r\n      });\r\n    }\r\n\r\n    return equalObjectsGeneric(decode(object[key]), decode(constraints), equalObjects);\r\n  } // More complex cases\r\n\r\n\r\n  for (var condition in constraints) {\r\n    compareTo = constraints[condition];\r\n\r\n    if (compareTo.__type) {\r\n      compareTo = decode(compareTo);\r\n    } // is it a $relativeTime? convert to date\r\n\r\n\r\n    if (compareTo['$relativeTime']) {\r\n      var parserResult = relativeTimeToDate(compareTo['$relativeTime']);\r\n\r\n      if (parserResult.status !== 'success') {\r\n        var _context2;\r\n\r\n        throw new ParseError(ParseError.INVALID_JSON, (0, _concat.default)(_context2 = \"bad $relativeTime (\".concat(key, \") value. \")).call(_context2, parserResult.info));\r\n      }\r\n\r\n      compareTo = parserResult.result;\r\n    } // Compare Date Object or Date String\r\n\r\n\r\n    if (toString.call(compareTo) === '[object Date]' || typeof compareTo === 'string' && new Date(compareTo) !== 'Invalid Date' && !isNaN(new Date(compareTo))) {\r\n      object[key] = new Date(object[key].iso ? object[key].iso : object[key]);\r\n    }\r\n\r\n    switch (condition) {\r\n      case '$lt':\r\n        if (object[key] >= compareTo) {\r\n          return false;\r\n        }\r\n\r\n        break;\r\n\r\n      case '$lte':\r\n        if (object[key] > compareTo) {\r\n          return false;\r\n        }\r\n\r\n        break;\r\n\r\n      case '$gt':\r\n        if (object[key] <= compareTo) {\r\n          return false;\r\n        }\r\n\r\n        break;\r\n\r\n      case '$gte':\r\n        if (object[key] < compareTo) {\r\n          return false;\r\n        }\r\n\r\n        break;\r\n\r\n      case '$ne':\r\n        if (equalObjects(object[key], compareTo)) {\r\n          return false;\r\n        }\r\n\r\n        break;\r\n\r\n      case '$in':\r\n        if (!contains(compareTo, object[key])) {\r\n          return false;\r\n        }\r\n\r\n        break;\r\n\r\n      case '$nin':\r\n        if (contains(compareTo, object[key])) {\r\n          return false;\r\n        }\r\n\r\n        break;\r\n\r\n      case '$all':\r\n        for (i = 0; i < compareTo.length; i++) {\r\n          var _context3;\r\n\r\n          if ((0, _indexOf.default)(_context3 = object[key]).call(_context3, compareTo[i]) < 0) {\r\n            return false;\r\n          }\r\n        }\r\n\r\n        break;\r\n\r\n      case '$exists':\r\n        {\r\n          var propertyExists = typeof object[key] !== 'undefined';\r\n          var existenceIsRequired = constraints['$exists'];\r\n\r\n          if (typeof constraints['$exists'] !== 'boolean') {\r\n            // The SDK will never submit a non-boolean for $exists, but if someone\r\n            // tries to submit a non-boolean for $exits outside the SDKs, just ignore it.\r\n            break;\r\n          }\r\n\r\n          if (!propertyExists && existenceIsRequired || propertyExists && !existenceIsRequired) {\r\n            return false;\r\n          }\r\n\r\n          break;\r\n        }\r\n\r\n      case '$regex':\r\n        {\r\n          if ((0, _typeof2.default)(compareTo) === 'object') {\r\n            return compareTo.test(object[key]);\r\n          } // JS doesn't support perl-style escaping\r\n\r\n\r\n          var expString = '';\r\n          var escapeEnd = -2;\r\n          var escapeStart = (0, _indexOf.default)(compareTo).call(compareTo, '\\\\Q');\r\n\r\n          while (escapeStart > -1) {\r\n            // Add the unescaped portion\r\n            expString += compareTo.substring(escapeEnd + 2, escapeStart);\r\n            escapeEnd = (0, _indexOf.default)(compareTo).call(compareTo, '\\\\E', escapeStart);\r\n\r\n            if (escapeEnd > -1) {\r\n              expString += compareTo.substring(escapeStart + 2, escapeEnd).replace(/\\\\\\\\\\\\\\\\E/g, '\\\\E').replace(/\\W/g, '\\\\$&');\r\n            }\r\n\r\n            escapeStart = (0, _indexOf.default)(compareTo).call(compareTo, '\\\\Q', escapeEnd);\r\n          }\r\n\r\n          expString += compareTo.substring(Math.max(escapeStart, escapeEnd + 2));\r\n          var modifiers = constraints.$options || '';\r\n          modifiers = modifiers.replace('x', '').replace('s', ''); // Parse Server / Mongo support x and s modifiers but JS RegExp doesn't\r\n\r\n          var exp = new RegExp(expString, modifiers);\r\n\r\n          if (!exp.test(object[key])) {\r\n            return false;\r\n          }\r\n\r\n          break;\r\n        }\r\n\r\n      case '$nearSphere':\r\n        {\r\n          if (!compareTo || !object[key]) {\r\n            return false;\r\n          }\r\n\r\n          var distance = compareTo.radiansTo(object[key]);\r\n          var max = constraints.$maxDistance || Infinity;\r\n          return distance <= max;\r\n        }\r\n\r\n      case '$within':\r\n        {\r\n          if (!compareTo || !object[key]) {\r\n            return false;\r\n          }\r\n\r\n          var southWest = compareTo.$box[0];\r\n          var northEast = compareTo.$box[1];\r\n\r\n          if (southWest.latitude > northEast.latitude || southWest.longitude > northEast.longitude) {\r\n            // Invalid box, crosses the date line\r\n            return false;\r\n          }\r\n\r\n          return object[key].latitude > southWest.latitude && object[key].latitude < northEast.latitude && object[key].longitude > southWest.longitude && object[key].longitude < northEast.longitude;\r\n        }\r\n\r\n      case '$options':\r\n        // Not a query type, but a way to add options to $regex. Ignore and\r\n        // avoid the default\r\n        break;\r\n\r\n      case '$maxDistance':\r\n        // Not a query type, but a way to add a cap to $nearSphere. Ignore and\r\n        // avoid the default\r\n        break;\r\n\r\n      case '$select':\r\n        {\r\n          var subQueryObjects = (0, _filter.default)(objects).call(objects, function (obj, index, arr) {\r\n            return matchesQuery(compareTo.query.className, obj, arr, compareTo.query.where);\r\n          });\r\n\r\n          for (var _i2 = 0; _i2 < subQueryObjects.length; _i2 += 1) {\r\n            var subObject = transformObject(subQueryObjects[_i2]);\r\n            return equalObjects(object[key], subObject[compareTo.key]);\r\n          }\r\n\r\n          return false;\r\n        }\r\n\r\n      case '$dontSelect':\r\n        {\r\n          var _subQueryObjects = (0, _filter.default)(objects).call(objects, function (obj, index, arr) {\r\n            return matchesQuery(compareTo.query.className, obj, arr, compareTo.query.where);\r\n          });\r\n\r\n          for (var _i3 = 0; _i3 < _subQueryObjects.length; _i3 += 1) {\r\n            var _subObject = transformObject(_subQueryObjects[_i3]);\r\n\r\n            return !equalObjects(object[key], _subObject[compareTo.key]);\r\n          }\r\n\r\n          return false;\r\n        }\r\n\r\n      case '$inQuery':\r\n        {\r\n          var _subQueryObjects2 = (0, _filter.default)(objects).call(objects, function (obj, index, arr) {\r\n            return matchesQuery(compareTo.className, obj, arr, compareTo.where);\r\n          });\r\n\r\n          for (var _i4 = 0; _i4 < _subQueryObjects2.length; _i4 += 1) {\r\n            var _subObject2 = transformObject(_subQueryObjects2[_i4]);\r\n\r\n            if (object[key].className === _subObject2.className && object[key].objectId === _subObject2.objectId) {\r\n              return true;\r\n            }\r\n          }\r\n\r\n          return false;\r\n        }\r\n\r\n      case '$notInQuery':\r\n        {\r\n          var _subQueryObjects3 = (0, _filter.default)(objects).call(objects, function (obj, index, arr) {\r\n            return matchesQuery(compareTo.className, obj, arr, compareTo.where);\r\n          });\r\n\r\n          for (var _i5 = 0; _i5 < _subQueryObjects3.length; _i5 += 1) {\r\n            var _subObject3 = transformObject(_subQueryObjects3[_i5]);\r\n\r\n            if (object[key].className === _subObject3.className && object[key].objectId === _subObject3.objectId) {\r\n              return false;\r\n            }\r\n          }\r\n\r\n          return true;\r\n        }\r\n\r\n      case '$containedBy':\r\n        {\r\n          var _iterator = _createForOfIteratorHelper(object[key]),\r\n              _step;\r\n\r\n          try {\r\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\r\n              var value = _step.value;\r\n\r\n              if (!contains(compareTo, value)) {\r\n                return false;\r\n              }\r\n            }\r\n          } catch (err) {\r\n            _iterator.e(err);\r\n          } finally {\r\n            _iterator.f();\r\n          }\r\n\r\n          return true;\r\n        }\r\n\r\n      case '$geoWithin':\r\n        {\r\n          var _context4;\r\n\r\n          var points = (0, _map.default)(_context4 = compareTo.$polygon).call(_context4, function (geoPoint) {\r\n            return [geoPoint.latitude, geoPoint.longitude];\r\n          });\r\n          var polygon = new ParsePolygon(points);\r\n          return polygon.containsPoint(object[key]);\r\n        }\r\n\r\n      case '$geoIntersects':\r\n        {\r\n          var _polygon = new ParsePolygon(object[key].coordinates);\r\n\r\n          var point = new ParseGeoPoint(compareTo.$point);\r\n          return _polygon.containsPoint(point);\r\n        }\r\n\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction validateQuery(query\r\n/*: any*/\r\n) {\r\n  var _context5;\r\n\r\n  var q = query;\r\n\r\n  if (query.toJSON) {\r\n    q = query.toJSON().where;\r\n  }\r\n\r\n  var specialQuerykeys = ['$and', '$or', '$nor', '_rperm', '_wperm', '_perishable_token', '_email_verify_token', '_email_verify_token_expires_at', '_account_lockout_expires_at', '_failed_login_count'];\r\n  (0, _forEach.default)(_context5 = (0, _keys.default)(q)).call(_context5, function (key) {\r\n    if (q && q[key] && q[key].$regex) {\r\n      if (typeof q[key].$options === 'string') {\r\n        if (!q[key].$options.match(/^[imxs]+$/)) {\r\n          throw new ParseError(ParseError.INVALID_QUERY, \"Bad $options value for query: \".concat(q[key].$options));\r\n        }\r\n      }\r\n    }\r\n\r\n    if ((0, _indexOf.default)(specialQuerykeys).call(specialQuerykeys, key) < 0 && !key.match(/^[a-zA-Z][a-zA-Z0-9_\\.]*$/)) {\r\n      throw new ParseError(ParseError.INVALID_KEY_NAME, \"Invalid key name: \".concat(key));\r\n    }\r\n  });\r\n}\r\n\r\nvar OfflineQuery = {\r\n  matchesQuery: matchesQuery,\r\n  validateQuery: validateQuery\r\n};\r\nmodule.exports = OfflineQuery;"],"mappings":"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"},"metadata":{},"sourceType":"script"}