{"ast":null,"code":"'use strict';\n\nvar $ = require('../internals/export');\n\nvar IS_PURE = require('../internals/is-pure');\n\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\n\nvar fails = require('../internals/fails');\n\nvar getBuiltIn = require('../internals/get-built-in');\n\nvar isCallable = require('../internals/is-callable');\n\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar promiseResolve = require('../internals/promise-resolve');\n\nvar defineBuiltIn = require('../internals/define-built-in');\n\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype; // Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\n\nvar NON_GENERIC = !!NativePromiseConstructor && fails(function () {\n  // eslint-disable-next-line unicorn/no-thenable -- required for testing\n  NativePromisePrototype['finally'].call({\n    then: function () {\n      /* empty */\n    }\n  }, function () {\n    /* empty */\n  });\n}); // `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n\n$({\n  target: 'Promise',\n  proto: true,\n  real: true,\n  forced: NON_GENERIC\n}, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = isCallable(onFinally);\n    return this.then(isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () {\n        return x;\n      });\n    } : onFinally, isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () {\n        throw e;\n      });\n    } : onFinally);\n  }\n}); // makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`\n\nif (!IS_PURE && isCallable(NativePromiseConstructor)) {\n  var method = getBuiltIn('Promise').prototype['finally'];\n\n  if (NativePromisePrototype['finally'] !== method) {\n    defineBuiltIn(NativePromisePrototype, 'finally', method, {\n      unsafe: true\n    });\n  }\n}","map":{"version":3,"names":["$","require","IS_PURE","NativePromiseConstructor","fails","getBuiltIn","isCallable","speciesConstructor","promiseResolve","defineBuiltIn","NativePromisePrototype","prototype","NON_GENERIC","call","then","target","proto","real","forced","onFinally","C","isFunction","x","e","method","unsafe"],"sources":["C:/Users/brosk/Documents/Web Dev/modern-web-development-project/project/node_modules/core-js-pure/modules/es.promise.finally.js"],"sourcesContent":["'use strict';\r\nvar $ = require('../internals/export');\r\nvar IS_PURE = require('../internals/is-pure');\r\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\r\nvar fails = require('../internals/fails');\r\nvar getBuiltIn = require('../internals/get-built-in');\r\nvar isCallable = require('../internals/is-callable');\r\nvar speciesConstructor = require('../internals/species-constructor');\r\nvar promiseResolve = require('../internals/promise-resolve');\r\nvar defineBuiltIn = require('../internals/define-built-in');\r\n\r\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\r\n\r\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\r\nvar NON_GENERIC = !!NativePromiseConstructor && fails(function () {\r\n  // eslint-disable-next-line unicorn/no-thenable -- required for testing\r\n  NativePromisePrototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\r\n});\r\n\r\n// `Promise.prototype.finally` method\r\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\r\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\r\n  'finally': function (onFinally) {\r\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\r\n    var isFunction = isCallable(onFinally);\r\n    return this.then(\r\n      isFunction ? function (x) {\r\n        return promiseResolve(C, onFinally()).then(function () { return x; });\r\n      } : onFinally,\r\n      isFunction ? function (e) {\r\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\r\n      } : onFinally\r\n    );\r\n  }\r\n});\r\n\r\n// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`\r\nif (!IS_PURE && isCallable(NativePromiseConstructor)) {\r\n  var method = getBuiltIn('Promise').prototype['finally'];\r\n  if (NativePromisePrototype['finally'] !== method) {\r\n    defineBuiltIn(NativePromisePrototype, 'finally', method, { unsafe: true });\r\n  }\r\n}\r\n"],"mappings":"AAAA;;AACA,IAAIA,CAAC,GAAGC,OAAO,CAAC,qBAAD,CAAf;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,sBAAD,CAArB;;AACA,IAAIE,wBAAwB,GAAGF,OAAO,CAAC,yCAAD,CAAtC;;AACA,IAAIG,KAAK,GAAGH,OAAO,CAAC,oBAAD,CAAnB;;AACA,IAAII,UAAU,GAAGJ,OAAO,CAAC,2BAAD,CAAxB;;AACA,IAAIK,UAAU,GAAGL,OAAO,CAAC,0BAAD,CAAxB;;AACA,IAAIM,kBAAkB,GAAGN,OAAO,CAAC,kCAAD,CAAhC;;AACA,IAAIO,cAAc,GAAGP,OAAO,CAAC,8BAAD,CAA5B;;AACA,IAAIQ,aAAa,GAAGR,OAAO,CAAC,8BAAD,CAA3B;;AAEA,IAAIS,sBAAsB,GAAGP,wBAAwB,IAAIA,wBAAwB,CAACQ,SAAlF,C,CAEA;;AACA,IAAIC,WAAW,GAAG,CAAC,CAACT,wBAAF,IAA8BC,KAAK,CAAC,YAAY;EAChE;EACAM,sBAAsB,CAAC,SAAD,CAAtB,CAAkCG,IAAlC,CAAuC;IAAEC,IAAI,EAAE,YAAY;MAAE;IAAa;EAAnC,CAAvC,EAA8E,YAAY;IAAE;EAAa,CAAzG;AACD,CAHoD,CAArD,C,CAKA;AACA;;AACAd,CAAC,CAAC;EAAEe,MAAM,EAAE,SAAV;EAAqBC,KAAK,EAAE,IAA5B;EAAkCC,IAAI,EAAE,IAAxC;EAA8CC,MAAM,EAAEN;AAAtD,CAAD,EAAsE;EACrE,WAAW,UAAUO,SAAV,EAAqB;IAC9B,IAAIC,CAAC,GAAGb,kBAAkB,CAAC,IAAD,EAAOF,UAAU,CAAC,SAAD,CAAjB,CAA1B;IACA,IAAIgB,UAAU,GAAGf,UAAU,CAACa,SAAD,CAA3B;IACA,OAAO,KAAKL,IAAL,CACLO,UAAU,GAAG,UAAUC,CAAV,EAAa;MACxB,OAAOd,cAAc,CAACY,CAAD,EAAID,SAAS,EAAb,CAAd,CAA+BL,IAA/B,CAAoC,YAAY;QAAE,OAAOQ,CAAP;MAAW,CAA7D,CAAP;IACD,CAFS,GAENH,SAHC,EAILE,UAAU,GAAG,UAAUE,CAAV,EAAa;MACxB,OAAOf,cAAc,CAACY,CAAD,EAAID,SAAS,EAAb,CAAd,CAA+BL,IAA/B,CAAoC,YAAY;QAAE,MAAMS,CAAN;MAAU,CAA5D,CAAP;IACD,CAFS,GAENJ,SANC,CAAP;EAQD;AAZoE,CAAtE,CAAD,C,CAeA;;AACA,IAAI,CAACjB,OAAD,IAAYI,UAAU,CAACH,wBAAD,CAA1B,EAAsD;EACpD,IAAIqB,MAAM,GAAGnB,UAAU,CAAC,SAAD,CAAV,CAAsBM,SAAtB,CAAgC,SAAhC,CAAb;;EACA,IAAID,sBAAsB,CAAC,SAAD,CAAtB,KAAsCc,MAA1C,EAAkD;IAChDf,aAAa,CAACC,sBAAD,EAAyB,SAAzB,EAAoCc,MAApC,EAA4C;MAAEC,MAAM,EAAE;IAAV,CAA5C,CAAb;EACD;AACF"},"metadata":{},"sourceType":"script"}