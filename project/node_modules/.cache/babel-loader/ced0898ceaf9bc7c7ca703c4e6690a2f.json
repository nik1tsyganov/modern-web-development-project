{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = unsavedChildren;\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n/**\n * Return an array of unsaved children, which are either Parse Objects or Files.\n * If it encounters any dirty Objects without Ids, it will throw an exception.\n *\n * @param {Parse.Object} obj\n * @param {boolean} allowDeepUnsaved\n * @returns {Array}\n */\n\n\nfunction unsavedChildren(obj\n/*: ParseObject*/\n, allowDeepUnsaved\n/*:: ?: boolean*/\n)\n/*: Array<ParseFile | ParseObject>*/\n{\n  var encountered = {\n    objects: {},\n    files: []\n  };\n\n  var identifier = obj.className + ':' + obj._getId();\n\n  encountered.objects[identifier] = obj.dirty() ? obj : true;\n  var attributes = obj.attributes;\n\n  for (var attr in attributes) {\n    if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n      traverse(attributes[attr], encountered, false, !!allowDeepUnsaved);\n    }\n  }\n\n  var unsaved = [];\n\n  for (var id in encountered.objects) {\n    if (id !== identifier && encountered.objects[id] !== true) {\n      unsaved.push(encountered.objects[id]);\n    }\n  }\n\n  return (0, _concat.default)(unsaved).call(unsaved, encountered.files);\n}\n\nfunction traverse(obj\n/*: ParseObject*/\n, encountered\n/*: EncounterMap*/\n, shouldThrow\n/*: boolean*/\n, allowDeepUnsaved\n/*: boolean*/\n) {\n  if (obj instanceof _ParseObject.default) {\n    if (!obj.id && shouldThrow) {\n      throw new Error('Cannot create a pointer to an unsaved Object.');\n    }\n\n    var _identifier = obj.className + ':' + obj._getId();\n\n    if (!encountered.objects[_identifier]) {\n      encountered.objects[_identifier] = obj.dirty() ? obj : true;\n      var attributes = obj.attributes;\n\n      for (var attr in attributes) {\n        if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n          traverse(attributes[attr], encountered, !allowDeepUnsaved, allowDeepUnsaved);\n        }\n      }\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseFile.default) {\n    var _context;\n\n    if (!obj.url() && (0, _indexOf.default)(_context = encountered.files).call(_context, obj) < 0) {\n      encountered.files.push(obj);\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseRelation.default) {\n    return;\n  }\n\n  if ((0, _isArray.default)(obj)) {\n    (0, _forEach.default)(obj).call(obj, function (el) {\n      if ((0, _typeof2.default)(el) === 'object') {\n        traverse(el, encountered, shouldThrow, allowDeepUnsaved);\n      }\n    });\n  }\n\n  for (var k in obj) {\n    if ((0, _typeof2.default)(obj[k]) === 'object') {\n      traverse(obj[k], encountered, shouldThrow, allowDeepUnsaved);\n    }\n  }\n}","map":{"version":3,"names":["_interopRequireDefault","require","_Object$defineProperty","exports","value","default","unsavedChildren","_forEach","_isArray","_indexOf","_concat","_typeof2","_ParseFile","_ParseObject","_ParseRelation","obj","allowDeepUnsaved","encountered","objects","files","identifier","className","_getId","dirty","attributes","attr","traverse","unsaved","id","push","call","shouldThrow","Error","_identifier","_context","url","el","k"],"sources":["/Users/NikitaMac/Desktop/Modern Web Development/Homework/modern-web-development-project/project/node_modules/parse/lib/browser/unsavedChildren.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = unsavedChildren;\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n/**\n * Return an array of unsaved children, which are either Parse Objects or Files.\n * If it encounters any dirty Objects without Ids, it will throw an exception.\n *\n * @param {Parse.Object} obj\n * @param {boolean} allowDeepUnsaved\n * @returns {Array}\n */\n\n\nfunction unsavedChildren(obj\n/*: ParseObject*/\n, allowDeepUnsaved\n/*:: ?: boolean*/\n)\n/*: Array<ParseFile | ParseObject>*/\n{\n  var encountered = {\n    objects: {},\n    files: []\n  };\n\n  var identifier = obj.className + ':' + obj._getId();\n\n  encountered.objects[identifier] = obj.dirty() ? obj : true;\n  var attributes = obj.attributes;\n\n  for (var attr in attributes) {\n    if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n      traverse(attributes[attr], encountered, false, !!allowDeepUnsaved);\n    }\n  }\n\n  var unsaved = [];\n\n  for (var id in encountered.objects) {\n    if (id !== identifier && encountered.objects[id] !== true) {\n      unsaved.push(encountered.objects[id]);\n    }\n  }\n\n  return (0, _concat.default)(unsaved).call(unsaved, encountered.files);\n}\n\nfunction traverse(obj\n/*: ParseObject*/\n, encountered\n/*: EncounterMap*/\n, shouldThrow\n/*: boolean*/\n, allowDeepUnsaved\n/*: boolean*/\n) {\n  if (obj instanceof _ParseObject.default) {\n    if (!obj.id && shouldThrow) {\n      throw new Error('Cannot create a pointer to an unsaved Object.');\n    }\n\n    var _identifier = obj.className + ':' + obj._getId();\n\n    if (!encountered.objects[_identifier]) {\n      encountered.objects[_identifier] = obj.dirty() ? obj : true;\n      var attributes = obj.attributes;\n\n      for (var attr in attributes) {\n        if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n          traverse(attributes[attr], encountered, !allowDeepUnsaved, allowDeepUnsaved);\n        }\n      }\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseFile.default) {\n    var _context;\n\n    if (!obj.url() && (0, _indexOf.default)(_context = encountered.files).call(_context, obj) < 0) {\n      encountered.files.push(obj);\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseRelation.default) {\n    return;\n  }\n\n  if ((0, _isArray.default)(obj)) {\n    (0, _forEach.default)(obj).call(obj, function (el) {\n      if ((0, _typeof2.default)(el) === 'object') {\n        traverse(el, encountered, shouldThrow, allowDeepUnsaved);\n      }\n    });\n  }\n\n  for (var k in obj) {\n    if ((0, _typeof2.default)(obj[k]) === 'object') {\n      traverse(obj[k], encountered, shouldThrow, allowDeepUnsaved);\n    }\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}