{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\n\nvar _setInterval2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/set-interval\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar _findIndex = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find-index\"));\n\nvar _splice = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/splice\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\n\nvar _Storage = _interopRequireDefault(require(\"./Storage\"));\n/**\n * https://github.com/francimedia/parse-js-local-storage\n *\n * @flow\n */\n\n\nvar QUEUE_KEY = 'Parse/Eventually/Queue';\nvar queueCache = [];\nvar dirtyCache = true;\nvar polling = undefined;\n/**\n * Provides utility functions to queue objects that will be\n * saved to the server at a later date.\n *\n * @class Parse.EventuallyQueue\n * @static\n */\n\nvar EventuallyQueue = {\n  /**\n   * Add object to queue with save operation.\n   *\n   * @function save\n   * @name Parse.EventuallyQueue.save\n   * @param {ParseObject} object Parse.Object to be saved eventually\n   * @param {object} [serverOptions] See {@link https://parseplatform.org/Parse-SDK-JS/api/master/Parse.Object.html#save Parse.Object.save} options.\n   * @returns {Promise} A promise that is fulfilled if object is added to queue.\n   * @static\n   * @see Parse.Object#saveEventually\n   */\n  save: function (object\n  /*: ParseObject*/\n  )\n  /*: Promise*/\n  {\n    var serverOptions\n    /*: SaveOptions*/\n    = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return this.enqueue('save', object, serverOptions);\n  },\n\n  /**\n   * Add object to queue with save operation.\n   *\n   * @function destroy\n   * @name Parse.EventuallyQueue.destroy\n   * @param {ParseObject} object Parse.Object to be destroyed eventually\n   * @param {object} [serverOptions] See {@link https://parseplatform.org/Parse-SDK-JS/api/master/Parse.Object.html#destroy Parse.Object.destroy} options\n   * @returns {Promise} A promise that is fulfilled if object is added to queue.\n   * @static\n   * @see Parse.Object#destroyEventually\n   */\n  destroy: function (object\n  /*: ParseObject*/\n  )\n  /*: Promise*/\n  {\n    var serverOptions\n    /*: RequestOptions*/\n    = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return this.enqueue('destroy', object, serverOptions);\n  },\n\n  /**\n   * Generate unique identifier to avoid duplicates and maintain previous state.\n   *\n   * @param {string} action save / destroy\n   * @param {object} object Parse.Object to be queued\n   * @returns {string}\n   * @static\n   * @ignore\n   */\n  generateQueueId: function (action\n  /*: string*/\n  , object\n  /*: ParseObject*/\n  )\n  /*: string*/\n  {\n    object._getId();\n\n    var className = object.className,\n        id = object.id,\n        _localId = object._localId;\n\n    var uniqueId = object.get('hash') || _localId;\n\n    return [action, className, id, uniqueId].join('_');\n  },\n\n  /**\n   * Build queue object and add to queue.\n   *\n   * @param {string} action save / destroy\n   * @param {object} object Parse.Object to be queued\n   * @param {object} [serverOptions]\n   * @returns {Promise} A promise that is fulfilled if object is added to queue.\n   * @static\n   * @ignore\n   */\n  enqueue: function (action\n  /*: string*/\n  , object\n  /*: ParseObject*/\n  , serverOptions\n  /*: SaveOptions | RequestOptions*/\n  )\n  /*: Promise*/\n  {\n    var _this = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      var queueData, queueId, index, prop;\n      return _regenerator.default.wrap(function (_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.getQueue();\n\n            case 2:\n              queueData = _context.sent;\n              queueId = _this.generateQueueId(action, object);\n              index = _this.queueItemExists(queueData, queueId);\n\n              if (index > -1) {\n                // Add cached values to new object if they don't exist\n                for (prop in queueData[index].object) {\n                  if (typeof object.get(prop) === 'undefined') {\n                    object.set(prop, queueData[index].object[prop]);\n                  }\n                }\n              } else {\n                index = queueData.length;\n              }\n\n              queueData[index] = {\n                queueId: queueId,\n                action: action,\n                object: object.toJSON(),\n                serverOptions: serverOptions,\n                id: object.id,\n                className: object.className,\n                hash: object.get('hash'),\n                createdAt: new Date()\n              };\n              return _context.abrupt(\"return\", _this.setQueue(queueData));\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  store: function (data) {\n    return _Storage.default.setItemAsync(QUEUE_KEY, (0, _stringify.default)(data));\n  },\n  load: function () {\n    return _Storage.default.getItemAsync(QUEUE_KEY);\n  },\n\n  /**\n   * Sets the in-memory queue from local storage and returns.\n   *\n   * @function getQueue\n   * @name Parse.EventuallyQueue.getQueue\n   * @returns {Promise<Array>}\n   * @static\n   */\n  getQueue: function ()\n  /*: Promise<Array>*/\n  {\n    var _this2 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n      return _regenerator.default.wrap(function (_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!dirtyCache) {\n                _context2.next = 10;\n                break;\n              }\n\n              _context2.t0 = JSON;\n              _context2.next = 4;\n              return _this2.load();\n\n            case 4:\n              _context2.t1 = _context2.sent;\n\n              if (_context2.t1) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.t1 = '[]';\n\n            case 7:\n              _context2.t2 = _context2.t1;\n              queueCache = _context2.t0.parse.call(_context2.t0, _context2.t2);\n              dirtyCache = false;\n\n            case 10:\n              return _context2.abrupt(\"return\", queueCache);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  },\n\n  /**\n   * Saves the queue to local storage\n   *\n   * @param {Queue} queue Queue containing Parse.Object data.\n   * @returns {Promise} A promise that is fulfilled when queue is stored.\n   * @static\n   * @ignore\n   */\n  setQueue: function (queue\n  /*: Queue*/\n  )\n  /*: Promise<void>*/\n  {\n    queueCache = queue;\n    return this.store(queueCache);\n  },\n\n  /**\n   * Removes Parse.Object data from queue.\n   *\n   * @param {string} queueId Unique identifier for Parse.Object data.\n   * @returns {Promise} A promise that is fulfilled when queue is stored.\n   * @static\n   * @ignore\n   */\n  remove: function (queueId\n  /*: string*/\n  )\n  /*: Promise<void>*/\n  {\n    var _this3 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n      var queueData, index;\n      return _regenerator.default.wrap(function (_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _this3.getQueue();\n\n            case 2:\n              queueData = _context3.sent;\n              index = _this3.queueItemExists(queueData, queueId);\n\n              if (!(index > -1)) {\n                _context3.next = 8;\n                break;\n              }\n\n              (0, _splice.default)(queueData).call(queueData, index, 1);\n              _context3.next = 8;\n              return _this3.setQueue(queueData);\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))();\n  },\n\n  /**\n   * Removes all objects from queue.\n   *\n   * @function clear\n   * @name Parse.EventuallyQueue.clear\n   * @returns {Promise} A promise that is fulfilled when queue is cleared.\n   * @static\n   */\n  clear: function ()\n  /*: Promise*/\n  {\n    queueCache = [];\n    return this.store([]);\n  },\n\n  /**\n   * Return the index of a queueId in the queue. Returns -1 if not found.\n   *\n   * @param {Queue} queue Queue containing Parse.Object data.\n   * @param {string} queueId Unique identifier for Parse.Object data.\n   * @returns {number}\n   * @static\n   * @ignore\n   */\n  queueItemExists: function (queue\n  /*: Queue*/\n  , queueId\n  /*: string*/\n  )\n  /*: number*/\n  {\n    return (0, _findIndex.default)(queue).call(queue, function (data) {\n      return data.queueId === queueId;\n    });\n  },\n\n  /**\n   * Return the number of objects in the queue.\n   *\n   * @function length\n   * @name Parse.EventuallyQueue.length\n   * @returns {number}\n   * @static\n   */\n  length: function ()\n  /*: number*/\n  {\n    var _this4 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {\n      var queueData;\n      return _regenerator.default.wrap(function (_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _this4.getQueue();\n\n            case 2:\n              queueData = _context4.sent;\n              return _context4.abrupt(\"return\", queueData.length);\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }))();\n  },\n\n  /**\n   * Sends the queue to the server.\n   *\n   * @function sendQueue\n   * @name Parse.EventuallyQueue.sendQueue\n   * @returns {Promise<boolean>} Returns true if queue was sent successfully.\n   * @static\n   */\n  sendQueue: function ()\n  /*: Promise<boolean>*/\n  {\n    var _this5 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5() {\n      var queue, queueData, i, queueObject, id, hash, className, ObjectType;\n      return _regenerator.default.wrap(function (_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return _this5.getQueue();\n\n            case 2:\n              queue = _context5.sent;\n              queueData = (0, _toConsumableArray2.default)(queue);\n\n              if (!(queueData.length === 0)) {\n                _context5.next = 6;\n                break;\n              }\n\n              return _context5.abrupt(\"return\", false);\n\n            case 6:\n              i = 0;\n\n            case 7:\n              if (!(i < queueData.length)) {\n                _context5.next = 26;\n                break;\n              }\n\n              queueObject = queueData[i];\n              id = queueObject.id, hash = queueObject.hash, className = queueObject.className;\n              ObjectType = _ParseObject.default.extend(className);\n\n              if (!id) {\n                _context5.next = 16;\n                break;\n              }\n\n              _context5.next = 14;\n              return _this5.process.byId(ObjectType, queueObject);\n\n            case 14:\n              _context5.next = 23;\n              break;\n\n            case 16:\n              if (!hash) {\n                _context5.next = 21;\n                break;\n              }\n\n              _context5.next = 19;\n              return _this5.process.byHash(ObjectType, queueObject);\n\n            case 19:\n              _context5.next = 23;\n              break;\n\n            case 21:\n              _context5.next = 23;\n              return _this5.process.create(ObjectType, queueObject);\n\n            case 23:\n              i += 1;\n              _context5.next = 7;\n              break;\n\n            case 26:\n              return _context5.abrupt(\"return\", true);\n\n            case 27:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }))();\n  },\n\n  /**\n   * Build queue object and add to queue.\n   *\n   * @param {ParseObject} object Parse.Object to be processed\n   * @param {QueueObject} queueObject Parse.Object data from the queue\n   * @returns {Promise} A promise that is fulfilled when operation is performed.\n   * @static\n   * @ignore\n   */\n  sendQueueCallback: function (object\n  /*: ParseObject*/\n  , queueObject\n  /*: QueueObject*/\n  )\n  /*: Promise<void>*/\n  {\n    var _this6 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6() {\n      return _regenerator.default.wrap(function (_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              if (object) {\n                _context6.next = 2;\n                break;\n              }\n\n              return _context6.abrupt(\"return\", _this6.remove(queueObject.queueId));\n\n            case 2:\n              _context6.t0 = queueObject.action;\n              _context6.next = _context6.t0 === 'save' ? 5 : _context6.t0 === 'destroy' ? 20 : 33;\n              break;\n\n            case 5:\n              if (!(typeof object.updatedAt !== 'undefined' && object.updatedAt > new Date(queueObject.object.createdAt))) {\n                _context6.next = 7;\n                break;\n              }\n\n              return _context6.abrupt(\"return\", _this6.remove(queueObject.queueId));\n\n            case 7:\n              _context6.prev = 7;\n              _context6.next = 10;\n              return object.save(queueObject.object, queueObject.serverOptions);\n\n            case 10:\n              _context6.next = 12;\n              return _this6.remove(queueObject.queueId);\n\n            case 12:\n              _context6.next = 19;\n              break;\n\n            case 14:\n              _context6.prev = 14;\n              _context6.t1 = _context6[\"catch\"](7);\n\n              if (!(_context6.t1.message !== 'XMLHttpRequest failed: \"Unable to connect to the Parse API\"')) {\n                _context6.next = 19;\n                break;\n              }\n\n              _context6.next = 19;\n              return _this6.remove(queueObject.queueId);\n\n            case 19:\n              return _context6.abrupt(\"break\", 33);\n\n            case 20:\n              _context6.prev = 20;\n              _context6.next = 23;\n              return object.destroy(queueObject.serverOptions);\n\n            case 23:\n              _context6.next = 25;\n              return _this6.remove(queueObject.queueId);\n\n            case 25:\n              _context6.next = 32;\n              break;\n\n            case 27:\n              _context6.prev = 27;\n              _context6.t2 = _context6[\"catch\"](20);\n\n              if (!(_context6.t2.message !== 'XMLHttpRequest failed: \"Unable to connect to the Parse API\"')) {\n                _context6.next = 32;\n                break;\n              }\n\n              _context6.next = 32;\n              return _this6.remove(queueObject.queueId);\n\n            case 32:\n              return _context6.abrupt(\"break\", 33);\n\n            case 33:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[7, 14], [20, 27]]);\n    }))();\n  },\n\n  /**\n   * Start polling server for network connection.\n   * Will send queue if connection is established.\n   *\n   * @function poll\n   * @name Parse.EventuallyQueue.poll\n   * @param [ms] Milliseconds to ping the server. Default 2000ms\n   * @static\n   */\n  poll: function () {\n    var _this7 = this;\n\n    var ms\n    /*: number*/\n    = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2000;\n\n    if (polling) {\n      return;\n    }\n\n    polling = (0, _setInterval2.default)(function () {\n      var RESTController = _CoreManager.default.getRESTController();\n\n      RESTController.request('GET', 'health').then(function (_ref) {\n        var status = _ref.status;\n\n        if (status === 'ok') {\n          _this7.stopPoll();\n\n          return _this7.sendQueue();\n        }\n      }).catch(function (e) {\n        return e;\n      });\n    }, ms);\n  },\n\n  /**\n   * Turns off polling.\n   *\n   * @function stopPoll\n   * @name Parse.EventuallyQueue.stopPoll\n   * @static\n   */\n  stopPoll: function () {\n    clearInterval(polling);\n    polling = undefined;\n  },\n\n  /**\n   * Return true if pinging the server.\n   *\n   * @function isPolling\n   * @name Parse.EventuallyQueue.isPolling\n   * @returns {boolean}\n   * @static\n   */\n  isPolling: function ()\n  /*: boolean*/\n  {\n    return !!polling;\n  },\n  _setPolling: function (flag\n  /*: boolean*/\n  ) {\n    polling = flag;\n  },\n  process: {\n    create: function (ObjectType, queueObject) {\n      var object = new ObjectType();\n      return EventuallyQueue.sendQueueCallback(object, queueObject);\n    },\n    byId: function (ObjectType, queueObject) {\n      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7() {\n        var sessionToken, query, results;\n        return _regenerator.default.wrap(function (_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                sessionToken = queueObject.serverOptions.sessionToken;\n                query = new _ParseQuery.default(ObjectType);\n                query.equalTo('objectId', queueObject.id);\n                _context7.next = 5;\n                return (0, _find.default)(query).call(query, {\n                  sessionToken: sessionToken\n                });\n\n              case 5:\n                results = _context7.sent;\n                return _context7.abrupt(\"return\", EventuallyQueue.sendQueueCallback(results[0], queueObject));\n\n              case 7:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }))();\n    },\n    byHash: function (ObjectType, queueObject) {\n      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {\n        var sessionToken, query, results;\n        return _regenerator.default.wrap(function (_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                sessionToken = queueObject.serverOptions.sessionToken;\n                query = new _ParseQuery.default(ObjectType);\n                query.equalTo('hash', queueObject.hash);\n                _context8.next = 5;\n                return (0, _find.default)(query).call(query, {\n                  sessionToken: sessionToken\n                });\n\n              case 5:\n                results = _context8.sent;\n\n                if (!(results.length > 0)) {\n                  _context8.next = 8;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", EventuallyQueue.sendQueueCallback(results[0], queueObject));\n\n              case 8:\n                return _context8.abrupt(\"return\", EventuallyQueue.process.create(ObjectType, queueObject));\n\n              case 9:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }))();\n    }\n  }\n};\nmodule.exports = EventuallyQueue;","map":{"version":3,"names":["_interopRequireDefault","require","_find","_setInterval2","_toConsumableArray2","_findIndex","_splice","_stringify","_regenerator","_asyncToGenerator2","_CoreManager","_ParseObject","_ParseQuery","_Storage","QUEUE_KEY","queueCache","dirtyCache","polling","undefined","EventuallyQueue","save","object","serverOptions","arguments","length","enqueue","destroy","generateQueueId","action","_getId","className","id","_localId","uniqueId","get","join","_this","default","mark","_callee","queueData","queueId","index","prop","wrap","_context","prev","next","getQueue","sent","queueItemExists","set","toJSON","hash","createdAt","Date","abrupt","setQueue","stop","store","data","setItemAsync","load","getItemAsync","_this2","_callee2","_context2","t0","JSON","t1","t2","parse","call","queue","remove","_this3","_callee3","_context3","clear","_this4","_callee4","_context4","sendQueue","_this5","_callee5","i","queueObject","ObjectType","_context5","extend","process","byId","byHash","create","sendQueueCallback","_this6","_callee6","_context6","updatedAt","message","poll","_this7","ms","RESTController","getRESTController","request","then","_ref","status","stopPoll","catch","e","clearInterval","isPolling","_setPolling","flag","_callee7","sessionToken","query","results","_context7","equalTo","_callee8","_context8","module","exports"],"sources":["/Users/NikitaMac/Desktop/Modern Web Development/Homework/modern-web-development-project/project/node_modules/parse/lib/browser/EventuallyQueue.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\n\nvar _setInterval2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/set-interval\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar _findIndex = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find-index\"));\n\nvar _splice = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/splice\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\n\nvar _Storage = _interopRequireDefault(require(\"./Storage\"));\n/**\n * https://github.com/francimedia/parse-js-local-storage\n *\n * @flow\n */\n\n\nvar QUEUE_KEY = 'Parse/Eventually/Queue';\nvar queueCache = [];\nvar dirtyCache = true;\nvar polling = undefined;\n/**\n * Provides utility functions to queue objects that will be\n * saved to the server at a later date.\n *\n * @class Parse.EventuallyQueue\n * @static\n */\n\nvar EventuallyQueue = {\n  /**\n   * Add object to queue with save operation.\n   *\n   * @function save\n   * @name Parse.EventuallyQueue.save\n   * @param {ParseObject} object Parse.Object to be saved eventually\n   * @param {object} [serverOptions] See {@link https://parseplatform.org/Parse-SDK-JS/api/master/Parse.Object.html#save Parse.Object.save} options.\n   * @returns {Promise} A promise that is fulfilled if object is added to queue.\n   * @static\n   * @see Parse.Object#saveEventually\n   */\n  save: function (object\n  /*: ParseObject*/\n  )\n  /*: Promise*/\n  {\n    var serverOptions\n    /*: SaveOptions*/\n    = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return this.enqueue('save', object, serverOptions);\n  },\n\n  /**\n   * Add object to queue with save operation.\n   *\n   * @function destroy\n   * @name Parse.EventuallyQueue.destroy\n   * @param {ParseObject} object Parse.Object to be destroyed eventually\n   * @param {object} [serverOptions] See {@link https://parseplatform.org/Parse-SDK-JS/api/master/Parse.Object.html#destroy Parse.Object.destroy} options\n   * @returns {Promise} A promise that is fulfilled if object is added to queue.\n   * @static\n   * @see Parse.Object#destroyEventually\n   */\n  destroy: function (object\n  /*: ParseObject*/\n  )\n  /*: Promise*/\n  {\n    var serverOptions\n    /*: RequestOptions*/\n    = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return this.enqueue('destroy', object, serverOptions);\n  },\n\n  /**\n   * Generate unique identifier to avoid duplicates and maintain previous state.\n   *\n   * @param {string} action save / destroy\n   * @param {object} object Parse.Object to be queued\n   * @returns {string}\n   * @static\n   * @ignore\n   */\n  generateQueueId: function (action\n  /*: string*/\n  , object\n  /*: ParseObject*/\n  )\n  /*: string*/\n  {\n    object._getId();\n\n    var className = object.className,\n        id = object.id,\n        _localId = object._localId;\n\n    var uniqueId = object.get('hash') || _localId;\n\n    return [action, className, id, uniqueId].join('_');\n  },\n\n  /**\n   * Build queue object and add to queue.\n   *\n   * @param {string} action save / destroy\n   * @param {object} object Parse.Object to be queued\n   * @param {object} [serverOptions]\n   * @returns {Promise} A promise that is fulfilled if object is added to queue.\n   * @static\n   * @ignore\n   */\n  enqueue: function (action\n  /*: string*/\n  , object\n  /*: ParseObject*/\n  , serverOptions\n  /*: SaveOptions | RequestOptions*/\n  )\n  /*: Promise*/\n  {\n    var _this = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      var queueData, queueId, index, prop;\n      return _regenerator.default.wrap(function (_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.getQueue();\n\n            case 2:\n              queueData = _context.sent;\n              queueId = _this.generateQueueId(action, object);\n              index = _this.queueItemExists(queueData, queueId);\n\n              if (index > -1) {\n                // Add cached values to new object if they don't exist\n                for (prop in queueData[index].object) {\n                  if (typeof object.get(prop) === 'undefined') {\n                    object.set(prop, queueData[index].object[prop]);\n                  }\n                }\n              } else {\n                index = queueData.length;\n              }\n\n              queueData[index] = {\n                queueId: queueId,\n                action: action,\n                object: object.toJSON(),\n                serverOptions: serverOptions,\n                id: object.id,\n                className: object.className,\n                hash: object.get('hash'),\n                createdAt: new Date()\n              };\n              return _context.abrupt(\"return\", _this.setQueue(queueData));\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  store: function (data) {\n    return _Storage.default.setItemAsync(QUEUE_KEY, (0, _stringify.default)(data));\n  },\n  load: function () {\n    return _Storage.default.getItemAsync(QUEUE_KEY);\n  },\n\n  /**\n   * Sets the in-memory queue from local storage and returns.\n   *\n   * @function getQueue\n   * @name Parse.EventuallyQueue.getQueue\n   * @returns {Promise<Array>}\n   * @static\n   */\n  getQueue: function ()\n  /*: Promise<Array>*/\n  {\n    var _this2 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n      return _regenerator.default.wrap(function (_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!dirtyCache) {\n                _context2.next = 10;\n                break;\n              }\n\n              _context2.t0 = JSON;\n              _context2.next = 4;\n              return _this2.load();\n\n            case 4:\n              _context2.t1 = _context2.sent;\n\n              if (_context2.t1) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.t1 = '[]';\n\n            case 7:\n              _context2.t2 = _context2.t1;\n              queueCache = _context2.t0.parse.call(_context2.t0, _context2.t2);\n              dirtyCache = false;\n\n            case 10:\n              return _context2.abrupt(\"return\", queueCache);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  },\n\n  /**\n   * Saves the queue to local storage\n   *\n   * @param {Queue} queue Queue containing Parse.Object data.\n   * @returns {Promise} A promise that is fulfilled when queue is stored.\n   * @static\n   * @ignore\n   */\n  setQueue: function (queue\n  /*: Queue*/\n  )\n  /*: Promise<void>*/\n  {\n    queueCache = queue;\n    return this.store(queueCache);\n  },\n\n  /**\n   * Removes Parse.Object data from queue.\n   *\n   * @param {string} queueId Unique identifier for Parse.Object data.\n   * @returns {Promise} A promise that is fulfilled when queue is stored.\n   * @static\n   * @ignore\n   */\n  remove: function (queueId\n  /*: string*/\n  )\n  /*: Promise<void>*/\n  {\n    var _this3 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n      var queueData, index;\n      return _regenerator.default.wrap(function (_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _this3.getQueue();\n\n            case 2:\n              queueData = _context3.sent;\n              index = _this3.queueItemExists(queueData, queueId);\n\n              if (!(index > -1)) {\n                _context3.next = 8;\n                break;\n              }\n\n              (0, _splice.default)(queueData).call(queueData, index, 1);\n              _context3.next = 8;\n              return _this3.setQueue(queueData);\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))();\n  },\n\n  /**\n   * Removes all objects from queue.\n   *\n   * @function clear\n   * @name Parse.EventuallyQueue.clear\n   * @returns {Promise} A promise that is fulfilled when queue is cleared.\n   * @static\n   */\n  clear: function ()\n  /*: Promise*/\n  {\n    queueCache = [];\n    return this.store([]);\n  },\n\n  /**\n   * Return the index of a queueId in the queue. Returns -1 if not found.\n   *\n   * @param {Queue} queue Queue containing Parse.Object data.\n   * @param {string} queueId Unique identifier for Parse.Object data.\n   * @returns {number}\n   * @static\n   * @ignore\n   */\n  queueItemExists: function (queue\n  /*: Queue*/\n  , queueId\n  /*: string*/\n  )\n  /*: number*/\n  {\n    return (0, _findIndex.default)(queue).call(queue, function (data) {\n      return data.queueId === queueId;\n    });\n  },\n\n  /**\n   * Return the number of objects in the queue.\n   *\n   * @function length\n   * @name Parse.EventuallyQueue.length\n   * @returns {number}\n   * @static\n   */\n  length: function ()\n  /*: number*/\n  {\n    var _this4 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {\n      var queueData;\n      return _regenerator.default.wrap(function (_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _this4.getQueue();\n\n            case 2:\n              queueData = _context4.sent;\n              return _context4.abrupt(\"return\", queueData.length);\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }))();\n  },\n\n  /**\n   * Sends the queue to the server.\n   *\n   * @function sendQueue\n   * @name Parse.EventuallyQueue.sendQueue\n   * @returns {Promise<boolean>} Returns true if queue was sent successfully.\n   * @static\n   */\n  sendQueue: function ()\n  /*: Promise<boolean>*/\n  {\n    var _this5 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5() {\n      var queue, queueData, i, queueObject, id, hash, className, ObjectType;\n      return _regenerator.default.wrap(function (_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return _this5.getQueue();\n\n            case 2:\n              queue = _context5.sent;\n              queueData = (0, _toConsumableArray2.default)(queue);\n\n              if (!(queueData.length === 0)) {\n                _context5.next = 6;\n                break;\n              }\n\n              return _context5.abrupt(\"return\", false);\n\n            case 6:\n              i = 0;\n\n            case 7:\n              if (!(i < queueData.length)) {\n                _context5.next = 26;\n                break;\n              }\n\n              queueObject = queueData[i];\n              id = queueObject.id, hash = queueObject.hash, className = queueObject.className;\n              ObjectType = _ParseObject.default.extend(className);\n\n              if (!id) {\n                _context5.next = 16;\n                break;\n              }\n\n              _context5.next = 14;\n              return _this5.process.byId(ObjectType, queueObject);\n\n            case 14:\n              _context5.next = 23;\n              break;\n\n            case 16:\n              if (!hash) {\n                _context5.next = 21;\n                break;\n              }\n\n              _context5.next = 19;\n              return _this5.process.byHash(ObjectType, queueObject);\n\n            case 19:\n              _context5.next = 23;\n              break;\n\n            case 21:\n              _context5.next = 23;\n              return _this5.process.create(ObjectType, queueObject);\n\n            case 23:\n              i += 1;\n              _context5.next = 7;\n              break;\n\n            case 26:\n              return _context5.abrupt(\"return\", true);\n\n            case 27:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }))();\n  },\n\n  /**\n   * Build queue object and add to queue.\n   *\n   * @param {ParseObject} object Parse.Object to be processed\n   * @param {QueueObject} queueObject Parse.Object data from the queue\n   * @returns {Promise} A promise that is fulfilled when operation is performed.\n   * @static\n   * @ignore\n   */\n  sendQueueCallback: function (object\n  /*: ParseObject*/\n  , queueObject\n  /*: QueueObject*/\n  )\n  /*: Promise<void>*/\n  {\n    var _this6 = this;\n\n    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6() {\n      return _regenerator.default.wrap(function (_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              if (object) {\n                _context6.next = 2;\n                break;\n              }\n\n              return _context6.abrupt(\"return\", _this6.remove(queueObject.queueId));\n\n            case 2:\n              _context6.t0 = queueObject.action;\n              _context6.next = _context6.t0 === 'save' ? 5 : _context6.t0 === 'destroy' ? 20 : 33;\n              break;\n\n            case 5:\n              if (!(typeof object.updatedAt !== 'undefined' && object.updatedAt > new Date(queueObject.object.createdAt))) {\n                _context6.next = 7;\n                break;\n              }\n\n              return _context6.abrupt(\"return\", _this6.remove(queueObject.queueId));\n\n            case 7:\n              _context6.prev = 7;\n              _context6.next = 10;\n              return object.save(queueObject.object, queueObject.serverOptions);\n\n            case 10:\n              _context6.next = 12;\n              return _this6.remove(queueObject.queueId);\n\n            case 12:\n              _context6.next = 19;\n              break;\n\n            case 14:\n              _context6.prev = 14;\n              _context6.t1 = _context6[\"catch\"](7);\n\n              if (!(_context6.t1.message !== 'XMLHttpRequest failed: \"Unable to connect to the Parse API\"')) {\n                _context6.next = 19;\n                break;\n              }\n\n              _context6.next = 19;\n              return _this6.remove(queueObject.queueId);\n\n            case 19:\n              return _context6.abrupt(\"break\", 33);\n\n            case 20:\n              _context6.prev = 20;\n              _context6.next = 23;\n              return object.destroy(queueObject.serverOptions);\n\n            case 23:\n              _context6.next = 25;\n              return _this6.remove(queueObject.queueId);\n\n            case 25:\n              _context6.next = 32;\n              break;\n\n            case 27:\n              _context6.prev = 27;\n              _context6.t2 = _context6[\"catch\"](20);\n\n              if (!(_context6.t2.message !== 'XMLHttpRequest failed: \"Unable to connect to the Parse API\"')) {\n                _context6.next = 32;\n                break;\n              }\n\n              _context6.next = 32;\n              return _this6.remove(queueObject.queueId);\n\n            case 32:\n              return _context6.abrupt(\"break\", 33);\n\n            case 33:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[7, 14], [20, 27]]);\n    }))();\n  },\n\n  /**\n   * Start polling server for network connection.\n   * Will send queue if connection is established.\n   *\n   * @function poll\n   * @name Parse.EventuallyQueue.poll\n   * @param [ms] Milliseconds to ping the server. Default 2000ms\n   * @static\n   */\n  poll: function () {\n    var _this7 = this;\n\n    var ms\n    /*: number*/\n    = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2000;\n\n    if (polling) {\n      return;\n    }\n\n    polling = (0, _setInterval2.default)(function () {\n      var RESTController = _CoreManager.default.getRESTController();\n\n      RESTController.request('GET', 'health').then(function (_ref) {\n        var status = _ref.status;\n\n        if (status === 'ok') {\n          _this7.stopPoll();\n\n          return _this7.sendQueue();\n        }\n      }).catch(function (e) {\n        return e;\n      });\n    }, ms);\n  },\n\n  /**\n   * Turns off polling.\n   *\n   * @function stopPoll\n   * @name Parse.EventuallyQueue.stopPoll\n   * @static\n   */\n  stopPoll: function () {\n    clearInterval(polling);\n    polling = undefined;\n  },\n\n  /**\n   * Return true if pinging the server.\n   *\n   * @function isPolling\n   * @name Parse.EventuallyQueue.isPolling\n   * @returns {boolean}\n   * @static\n   */\n  isPolling: function ()\n  /*: boolean*/\n  {\n    return !!polling;\n  },\n  _setPolling: function (flag\n  /*: boolean*/\n  ) {\n    polling = flag;\n  },\n  process: {\n    create: function (ObjectType, queueObject) {\n      var object = new ObjectType();\n      return EventuallyQueue.sendQueueCallback(object, queueObject);\n    },\n    byId: function (ObjectType, queueObject) {\n      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7() {\n        var sessionToken, query, results;\n        return _regenerator.default.wrap(function (_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                sessionToken = queueObject.serverOptions.sessionToken;\n                query = new _ParseQuery.default(ObjectType);\n                query.equalTo('objectId', queueObject.id);\n                _context7.next = 5;\n                return (0, _find.default)(query).call(query, {\n                  sessionToken: sessionToken\n                });\n\n              case 5:\n                results = _context7.sent;\n                return _context7.abrupt(\"return\", EventuallyQueue.sendQueueCallback(results[0], queueObject));\n\n              case 7:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }))();\n    },\n    byHash: function (ObjectType, queueObject) {\n      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {\n        var sessionToken, query, results;\n        return _regenerator.default.wrap(function (_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                sessionToken = queueObject.serverOptions.sessionToken;\n                query = new _ParseQuery.default(ObjectType);\n                query.equalTo('hash', queueObject.hash);\n                _context8.next = 5;\n                return (0, _find.default)(query).call(query, {\n                  sessionToken: sessionToken\n                });\n\n              case 5:\n                results = _context8.sent;\n\n                if (!(results.length > 0)) {\n                  _context8.next = 8;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", EventuallyQueue.sendQueueCallback(results[0], queueObject));\n\n              case 8:\n                return _context8.abrupt(\"return\", EventuallyQueue.process.create(ObjectType, queueObject));\n\n              case 9:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }))();\n    }\n  }\n};\nmodule.exports = EventuallyQueue;"],"mappings":"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"},"metadata":{},"sourceType":"script"}