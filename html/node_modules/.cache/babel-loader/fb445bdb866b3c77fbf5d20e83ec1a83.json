{"ast":null,"code":"import _toConsumableArray from \"/Users/NikitaMac/Desktop/Modern Web Development/Homework/modern-web-development-project/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/NikitaMac/Desktop/Modern Web Development/Homework/modern-web-development-project/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/NikitaMac/Desktop/Modern Web Development/Homework/modern-web-development-project/project/src/Components/Rate/RateView.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { getAllRatings } from \"../../Common/Services/RateService\";\nimport { createUserResponse } from \"../../Common/Services/CreateService\";\nimport RateForm from \"./RateForm\";\n\nvar RateView = function RateView() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      ratings = _useState2[0],\n      setRatings = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userResponses = _useState4[0],\n      setUserResponses = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      setName = _useState6[1];\n\n  useEffect(function () {\n    getAllRatings().then(function (ratings) {\n      setRatings(ratings);\n    });\n  }, []);\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      add = _useState8[0],\n      setAdd = _useState8[1];\n\n  useEffect(function () {\n    if (name && add) {\n      createUserResponse(name).then(function (userResponse) {\n        setAdd(false);\n        setUserResponses([].concat(_toConsumableArray(userResponses), [userResponse]));\n      });\n    }\n  }, [name, userResponses, add]);\n\n  var onClickHandler = function onClickHandler(e) {\n    e.preventDefault();\n    setAdd(true);\n  };\n\n  var onChangeHandler = function onChangeHandler(e) {\n    e.preventDefault();\n    console.log(e.target.value); // Continuously updating name to be added on submit\n\n    setName(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"How do you like this website?\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RateForm, {\n    ratings: ratings,\n    onFormSubmit: onClickHandler,\n    onFormChange: onChangeHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Where would you like to go next?\"));\n};\n\nexport default RateView;","map":{"version":3,"names":["React","useEffect","useState","getAllRatings","createUserResponse","RateForm","RateView","ratings","setRatings","userResponses","setUserResponses","name","setName","then","add","setAdd","userResponse","onClickHandler","e","preventDefault","onChangeHandler","console","log","target","value"],"sources":["/Users/NikitaMac/Desktop/Modern Web Development/Homework/modern-web-development-project/project/src/Components/Rate/RateView.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  getAllRatings\n} from \"../../Common/Services/RateService\";\nimport {createUserResponse} from \"../../Common/Services/CreateService\";\nimport RateForm from \"./RateForm\";\n\n\nconst RateView = () => {\n\n    const [ratings, setRatings] = useState([]);\n    const [userResponses, setUserResponses] = useState([]);\n    const [name, setName] = useState();\n  \n    useEffect(() => {\n      getAllRatings().then((ratings) => {\n        setRatings(ratings);\n      });\n    }, []);\n  \n    const [add, setAdd] = useState(false);\n  \n\n    useEffect(() => {\n      if (name && add) {\n        createUserResponse(name).then((userResponse) => {\n          setAdd(false);\n          setUserResponses([...userResponses, userResponse]);\n        });\n      }\n    }, [name, userResponses, add]);\n  \n    const onClickHandler = (e) => {\n      e.preventDefault();\n      setAdd(true);\n    };\n\n    const onChangeHandler = (e) => {\n      e.preventDefault();\n      console.log(e.target.value);\n      // Continuously updating name to be added on submit\n      setName(e.target.value);\n    };\n  \n    return (\n    <div>\n        <p>How do you like this website?</p>\n        <div>\n          <RateForm ratings={ratings} onFormSubmit={onClickHandler} onFormChange={onChangeHandler}/>\n        </div>\n        <br />\n        <p>Where would you like to go next?</p>\n    </div>\n    );\n  };\n  \n  export default RateView;"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SACEC,aADF,QAEO,mCAFP;AAGA,SAAQC,kBAAR,QAAiC,qCAAjC;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAGA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;EAAA,gBAEWJ,QAAQ,CAAC,EAAD,CAFnB;EAAA;EAAA,IAEZK,OAFY;EAAA,IAEHC,UAFG;;EAAA,iBAGuBN,QAAQ,CAAC,EAAD,CAH/B;EAAA;EAAA,IAGZO,aAHY;EAAA,IAGGC,gBAHH;;EAAA,iBAIKR,QAAQ,EAJb;EAAA;EAAA,IAIZS,IAJY;EAAA,IAINC,OAJM;;EAMnBX,SAAS,CAAC,YAAM;IACdE,aAAa,GAAGU,IAAhB,CAAqB,UAACN,OAAD,EAAa;MAChCC,UAAU,CAACD,OAAD,CAAV;IACD,CAFD;EAGD,CAJQ,EAIN,EAJM,CAAT;;EANmB,iBAYGL,QAAQ,CAAC,KAAD,CAZX;EAAA;EAAA,IAYZY,GAZY;EAAA,IAYPC,MAZO;;EAenBd,SAAS,CAAC,YAAM;IACd,IAAIU,IAAI,IAAIG,GAAZ,EAAiB;MACfV,kBAAkB,CAACO,IAAD,CAAlB,CAAyBE,IAAzB,CAA8B,UAACG,YAAD,EAAkB;QAC9CD,MAAM,CAAC,KAAD,CAAN;QACAL,gBAAgB,8BAAKD,aAAL,IAAoBO,YAApB,GAAhB;MACD,CAHD;IAID;EACF,CAPQ,EAON,CAACL,IAAD,EAAOF,aAAP,EAAsBK,GAAtB,CAPM,CAAT;;EASA,IAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAACC,CAAD,EAAO;IAC5BA,CAAC,CAACC,cAAF;IACAJ,MAAM,CAAC,IAAD,CAAN;EACD,CAHD;;EAKA,IAAMK,eAAe,GAAG,SAAlBA,eAAkB,CAACF,CAAD,EAAO;IAC7BA,CAAC,CAACC,cAAF;IACAE,OAAO,CAACC,GAAR,CAAYJ,CAAC,CAACK,MAAF,CAASC,KAArB,EAF6B,CAG7B;;IACAZ,OAAO,CAACM,CAAC,CAACK,MAAF,CAASC,KAAV,CAAP;EACD,CALD;;EAOA,oBACA;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,mCADJ,eAEI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,QAAD;IAAU,OAAO,EAAEjB,OAAnB;IAA4B,YAAY,EAAEU,cAA1C;IAA0D,YAAY,EAAEG,eAAxE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CAFJ,eAKI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EALJ,eAMI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,sCANJ,CADA;AAUD,CA9CH;;AAgDE,eAAed,QAAf"},"metadata":{},"sourceType":"module"}